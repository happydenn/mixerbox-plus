// ==UserScript==
// @name         MixerBox+
// @namespace    https://github.com/happydenn/mixerbox-plus
// @version      0.3.4
// @description  Custom controls for MixerBox Web.
// @author       happydenn
// @grant        GM_xmlhttpRequest
// @grant        unsafeWindow
// @connect      youtubemp3.to
// @match        *://www.mixerbox.com/*
// @match        *://spider1.cdn-network1.com/*
// @match        *://webyoutubeplayer.blogspot.com/*
// ==/UserScript==

!function(n){function t(M){if(e[M])return e[M].exports;var u=e[M]={i:M,l:!1,exports:{}};return n[M].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var e={};t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,M){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:M})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=2)}([function(n,t,e){"use strict";function M(){console.log("MixerBox+ loaded."),(o=document.getElementById("MB-player-iframe"))&&(o.setAttribute("allowfullscreen",""),setInterval(u,350))}function u(){var n=document.querySelectorAll(".playlist-item-container:not(.mbplus-annotated)");0!==n.length&&n.forEach(function(n){n.querySelectorAll(".song-row").forEach(function(n){n.querySelector(".thumbnailContainer > img").src.match(/.+:\/\/i\.ytimg\.com\/vi\/(.+)\/hqdefault\.jpg/i)[1]}),n.classList.add("mbplus-annotated")})}t.a=M;var o=(e(3),void 0)},function(n,t,e){"use strict";function M(){unsafeWindow.onYouTubeIframeAPIReady=function(){unsafeWindow.MBYTPlayer=new YT.Player("yt-player-div",{height:"100%",width:"100%",playerVars:{playsinline:1,controls:1,showinfo:0,rel:0,start:0,enablejsapi:1,iv_load_policy:3,origin:unsafeWindow.MB_DOMAIN_NAME},events:{onReady:unsafeWindow.onPlayerReady,onStateChange:unsafeWindow.onPlayerStateChange,onError:unsafeWindow.onPlayerError}}),u=unsafeWindow.MBYTPlayer,u.addEventListener("onStateChange",function(n){if(n.data===YT.PlayerState.PLAYING){var t=u.getAvailableQualityLevels(),e=u.getPlaybackQuality();t[0]!==e&&(console.log("Automatically changing quality level to "+t[0]),u.setPlaybackQuality(t[0]))}})}}t.a=M;var u=void 0},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var M=e(0),u=e(1),o=window.location.host;o.includes("cdn-network1.com")||o.includes("webyoutubeplayer.blogspot.com")?e.i(u.a)():o.includes("mixerbox.com")&&e.i(M.a)()},function(n,t,e){"use strict";var M=e(4);e.n(M)},function(n,t){n.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMS4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4yMTYgNDc3LjIxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjIxNiA0NzcuMjE2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij4KPGc+Cgk8cGF0aCBkPSJNNDUzLjg1OCwxMDUuMTE2di05MS42YzAtNC4zLTIuMS04LjQtNS41LTEwLjljLTMuNS0yLjUtOC0zLjMtMTIuMS0ybC0yNzIuOSw4Ni43Yy01LjYsMS44LTkuNCw3LTkuNCwxMi45djkxLjd2MC4xdjE3NS4zICAgYy0xNC4zLTkuOS0zMi42LTE1LjMtNTEuOC0xNS4zYy0yMC4zLDAtMzkuNiw2LjEtNTQuMywxNy4xYy0xNS44LDExLjktMjQuNSwyOC0yNC41LDQ1LjVzOC43LDMzLjYsMjQuNSw0NS41ICAgYzE0LjcsMTEsMzMuOSwxNy4xLDU0LjMsMTcuMXMzOS42LTYuMSw1NC4zLTE3LjFjMTUuOC0xMS45LDI0LjUtMjgsMjQuNS00NS41di0yMTIuOGwyNDUuOS03OC4ydjE1Ni42ICAgYy0xNC4zLTkuOS0zMi42LTE1LjMtNTEuOC0xNS4zYy0yMC4zLDAtMzkuNiw2LjEtNTQuMywxNy4xYy0xNS44LDExLjktMjQuNSwyOC0yNC41LDQ1LjVzOC43LDMzLjYsMjQuNSw0NS41ICAgYzE0LjcsMTEsMzMuOSwxNy4xLDU0LjMsMTcuMXMzOS42LTYuMSw1NC4zLTE3LjFjMTUuOC0xMS45LDI0LjUtMjgsMjQuNS00NS41di0yMjIuMyAgIEM0NTMuODU4LDEwNS4xMTYsNDUzLjg1OCwxMDUuMTE2LDQ1My44NTgsMTA1LjExNnogTTEwMi4xNTgsNDUwLjIxNmMtMjguMSwwLTUxLjgtMTYuMy01MS44LTM1LjZjMC0xOS4zLDIzLjctMzUuNiw1MS44LTM1LjYgICBzNTEuOCwxNi4zLDUxLjgsMzUuNkMxNTMuOTU4LDQzNC4wMTYsMTMwLjI1OCw0NTAuMjE2LDEwMi4xNTgsNDUwLjIxNnogTTE4MC45NTgsMTczLjQxNnYtNjMuNGwyNDUuOS03OC4xdjYzLjRMMTgwLjk1OCwxNzMuNDE2eiAgICBNMzc1LjE1OCwzNjMuMTE2Yy0yOC4xLDAtNTEuOC0xNi4zLTUxLjgtMzUuNmMwLTE5LjMsMjMuNy0zNS42LDUxLjgtMzUuNnM1MS44LDE2LjMsNTEuOCwzNS42ICAgQzQyNi44NTgsMzQ2LjgxNiw0MDMuMTU4LDM2My4xMTYsMzc1LjE1OCwzNjMuMTE2eiIgZmlsbD0iIzM3YjllYiIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo="}]);