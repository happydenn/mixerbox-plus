// ==UserScript==
// @name         MixerBox+
// @namespace    https://github.com/happydenn/mixerbox-plus
// @version      0.3.5
// @description  Custom controls for MixerBox Web.
// @author       happydenn
// @grant        GM_xmlhttpRequest
// @grant        unsafeWindow
// @connect      youtubemp3.to
// @match        *://www.mixerbox.com/*
// @match        *://spider1.cdn-network1.com/*
// @match        *://webyoutubeplayer.blogspot.com/*
// ==/UserScript==

!function(e){function t(M){if(n[M])return n[M].exports;var o=n[M]={i:M,l:!1,exports:{}};return e[M].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,M){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:M})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function M(){console.log("MixerBox+ loaded."),(u=document.getElementById("MB-player-iframe"))&&(u.setAttribute("allowfullscreen",""),setInterval(o,350))}function o(){var e=document.querySelectorAll(".playlist-item-container:not(.mbplus-annotated)");0!==e.length&&e.forEach(function(e){e.querySelectorAll(".song-row").forEach(function(e){e.querySelector(".thumbnailContainer > img").src.match(/.+:\/\/i\.ytimg\.com\/vi\/(.+)\/hqdefault\.jpg/i)[1]}),e.classList.add("mbplus-annotated")})}t.a=M;var u=(n(3),void 0)},function(e,t,n){"use strict";function M(){var e=document.getElementById("yt-player-div");e.style.position="absolute",e.style.left=0,e.style.top=0,e.style.width="100%",e.style.height="100%";var t=document.createElement("div");t.style.height=0,t.style.paddingTop="66.6667%",e.parentNode.insertBefore(t,e),t.appendChild(e),unsafeWindow.onYouTubeIframeAPIReady=function(){unsafeWindow.MBYTPlayer=new YT.Player("yt-player-div",{height:"100%",width:"100%",playerVars:{playsinline:1,controls:1,showinfo:0,rel:0,start:0,enablejsapi:1,iv_load_policy:3,origin:unsafeWindow.MB_DOMAIN_NAME},events:{onReady:unsafeWindow.onPlayerReady,onStateChange:unsafeWindow.onPlayerStateChange,onError:unsafeWindow.onPlayerError}}),o=unsafeWindow.MBYTPlayer,o.addEventListener("onStateChange",function(e){if(e.data===YT.PlayerState.PLAYING){var t=o.getAvailableQualityLevels(),n=o.getPlaybackQuality();t[0]!==n&&(console.log("Automatically changing quality level to "+t[0]),o.setPlaybackQuality(t[0]))}})}}t.a=M;var o=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var M=n(0),o=n(1),u=window.location.host;u.includes("cdn-network1.com")||u.includes("webyoutubeplayer.blogspot.com")?n.i(o.a)():u.includes("mixerbox.com")&&n.i(M.a)()},function(e,t,n){"use strict";var M=n(4);n.n(M)},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMS4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4yMTYgNDc3LjIxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjIxNiA0NzcuMjE2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij4KPGc+Cgk8cGF0aCBkPSJNNDUzLjg1OCwxMDUuMTE2di05MS42YzAtNC4zLTIuMS04LjQtNS41LTEwLjljLTMuNS0yLjUtOC0zLjMtMTIuMS0ybC0yNzIuOSw4Ni43Yy01LjYsMS44LTkuNCw3LTkuNCwxMi45djkxLjd2MC4xdjE3NS4zICAgYy0xNC4zLTkuOS0zMi42LTE1LjMtNTEuOC0xNS4zYy0yMC4zLDAtMzkuNiw2LjEtNTQuMywxNy4xYy0xNS44LDExLjktMjQuNSwyOC0yNC41LDQ1LjVzOC43LDMzLjYsMjQuNSw0NS41ICAgYzE0LjcsMTEsMzMuOSwxNy4xLDU0LjMsMTcuMXMzOS42LTYuMSw1NC4zLTE3LjFjMTUuOC0xMS45LDI0LjUtMjgsMjQuNS00NS41di0yMTIuOGwyNDUuOS03OC4ydjE1Ni42ICAgYy0xNC4zLTkuOS0zMi42LTE1LjMtNTEuOC0xNS4zYy0yMC4zLDAtMzkuNiw2LjEtNTQuMywxNy4xYy0xNS44LDExLjktMjQuNSwyOC0yNC41LDQ1LjVzOC43LDMzLjYsMjQuNSw0NS41ICAgYzE0LjcsMTEsMzMuOSwxNy4xLDU0LjMsMTcuMXMzOS42LTYuMSw1NC4zLTE3LjFjMTUuOC0xMS45LDI0LjUtMjgsMjQuNS00NS41di0yMjIuMyAgIEM0NTMuODU4LDEwNS4xMTYsNDUzLjg1OCwxMDUuMTE2LDQ1My44NTgsMTA1LjExNnogTTEwMi4xNTgsNDUwLjIxNmMtMjguMSwwLTUxLjgtMTYuMy01MS44LTM1LjZjMC0xOS4zLDIzLjctMzUuNiw1MS44LTM1LjYgICBzNTEuOCwxNi4zLDUxLjgsMzUuNkMxNTMuOTU4LDQzNC4wMTYsMTMwLjI1OCw0NTAuMjE2LDEwMi4xNTgsNDUwLjIxNnogTTE4MC45NTgsMTczLjQxNnYtNjMuNGwyNDUuOS03OC4xdjYzLjRMMTgwLjk1OCwxNzMuNDE2eiAgICBNMzc1LjE1OCwzNjMuMTE2Yy0yOC4xLDAtNTEuOC0xNi4zLTUxLjgtMzUuNmMwLTE5LjMsMjMuNy0zNS42LDUxLjgtMzUuNnM1MS44LDE2LjMsNTEuOCwzNS42ICAgQzQyNi44NTgsMzQ2LjgxNiw0MDMuMTU4LDM2My4xMTYsMzc1LjE1OCwzNjMuMTE2eiIgZmlsbD0iIzM3YjllYiIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo="}]);