// ==UserScript==
// @name         MixerBox+
// @namespace    https://github.com/happydenn/mixerbox-plus
// @version      0.3.0
// @description  Custom controls for MixerBox Web.
// @author       happydenn
// @grant        none
// @match        *://www.mixerbox.com/*
// @match        *://spider1.cdn-network1.com/*
// ==/UserScript==

!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function o(){console.log("MixerBox+ loaded."),(i=document.getElementById("MB-player-iframe"))&&(i.setAttribute("allowfullscreen",""),setInterval(a,350))}function a(){var e=document.querySelectorAll(".playlist-item-container:not(.mbplus-annotated)");0!==e.length&&e.forEach(function(e){e.querySelectorAll(".song-row").forEach(function(e){var t=e.querySelector(".thumbnailContainer > img"),o=t.src.match(/.+:\/\/i\.ytimg\.com\/vi\/(.+)\/hqdefault\.jpg/i)[1],a=e.querySelector(".title"),i=n.i(r.a)(o);a.appendChild(i)}),e.classList.add("mbplus-annotated")})}t.a=o;var r=n(3),i=void 0},function(e,t,n){"use strict";function o(){window.onYouTubeIframeAPIReady=function(){window.MBYTPlayer=new YT.Player("yt-player-div",{height:"100%",width:"100%",playerVars:{playsinline:1,controls:1,showinfo:0,rel:0,start:0,enablejsapi:1,iv_load_policy:3,origin:window.MB_DOMAIN_NAME},events:{onReady:window.onPlayerReady,onStateChange:window.onPlayerStateChange,onError:window.onPlayerError}}),a=window.MBYTPlayer,a.addEventListener("onStateChange",function(e){if(e.data===YT.PlayerState.PLAYING){var t=a.getAvailableQualityLevels(),n=a.getPlaybackQuality();t[0]!==n&&(console.log("Automatically changing quality level to "+t[0]),a.setPlaybackQuality(t[0]))}})}}t.a=o;var a=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1);window.location.host.includes("cdn-network1.com")?n.i(a.a)():window.location.host.includes("mixerbox.com")&&n.i(o.a)()},function(e,t,n){"use strict";function o(e){var t=document.createElement("a");return t.setAttribute("href","#"),t.textContent="Download MP3",t.style.marginLeft="10px",t.style.display="inline-block",t.style.borderBottom="1px dotted #37b9eb",t.style.color="#37b9eb",t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),window.open("https://www.youtubeinmp3.com/fetch/?video="+encodeURIComponent("https://www.youtube.com/watch?v="+e))}),t}t.a=o}]);